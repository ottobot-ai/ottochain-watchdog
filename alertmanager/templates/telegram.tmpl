{{/* Custom Telegram template for OttoChain alerts */}}

{{ define "telegram.ottochain.message" }}
{{ if eq .Status "firing" }}ğŸš¨ <b>ALERT FIRING</b>{{ else }}âœ… <b>RESOLVED</b>{{ end }}

{{ range .Alerts }}
<b>{{ .Labels.alertname }}</b>
<b>Severity:</b> {{ .Labels.severity }}
<b>Job:</b> {{ .Labels.job }}

{{ if .Annotations.summary }}ğŸ“‹ {{ .Annotations.summary }}{{ end }}
{{ if .Annotations.description }}
{{ .Annotations.description }}
{{ end }}

{{ if eq .Status "firing" }}
â° Started: {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}
{{ else }}
âœ… Resolved: {{ .EndsAt.Format "2006-01-02 15:04:05 MST" }}
{{ end }}
---
{{ end }}

ğŸ”— <a href="{{ .ExternalURL }}">Alertmanager</a>
{{ end }}
